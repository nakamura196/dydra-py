dydra-py
================

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

Tools for working with Dydra.com’s SPARQL endpoint.

## Install

``` sh
pip install git+https://github.com/nakamura196/dydra-py
```

## How to use

See the documentation for full details of the Dydra Client.

``` python
endpoint, api_key = DydraClient.load_env("../.env")
client = DydraClient(endpoint, api_key)
endpoint
```

    'https://dydra.com/ut-digital-archives/db/sparql'

### Without graph uri

import data from a file

``` python
client.import_by_file("./data.rdf", "xml")
```

    Data successfully inserted.

search by SPARQL query

``` python
query = """
    SELECT ?s ?v ?o
    WHERE { 
      { ?s ?v ?o }
    }
"""

df = client.query(query)
df
```

    {'head': {'vars': ['s', 'v', 'o']},
     'results': {'bindings': [{'s': {'type': 'uri',
         'value': 'http://example.org/BOB'},
        'v': {'type': 'uri', 'value': 'http://xmlns.com/foaf/0.1/topic_interest'},
        'o': {'type': 'uri',
         'value': 'https://jpsearch.go.jp/entity/chname/葛飾北斎'}},
       {'s': {'type': 'uri', 'value': 'http://example.org/BOB'},
        'v': {'type': 'uri', 'value': 'http://example.org/type'},
        'o': {'type': 'uri', 'value': 'http://xmlns.com/foaf/0.1/Person'}},
       {'s': {'type': 'uri', 'value': 'http://example.org/BOB'},
        'v': {'type': 'uri', 'value': 'http://example.org/knows'},
        'o': {'type': 'uri', 'value': 'http://example.org/Alice'}}]}}

clear the graph

``` python
client.clear()
```

    Data successfully cleared.

### With graph uri

``` python
graph_uri = "http://example.org/graph"
```

import data from a file

``` python
client.import_by_file("./data.rdf", "xml", graph_uri=graph_uri)
```

    Data successfully inserted.

search by SPARQL query

``` python
query = """
    SELECT ?g ?s ?v ?o
    WHERE { 
      graph ?g { ?s ?v ?o }
    }
"""

df = client.query(query)
df
```

    {'head': {'vars': ['g', 's', 'v', 'o']},
     'results': {'bindings': [{'g': {'type': 'uri',
         'value': 'http://example.org/graph'},
        's': {'type': 'uri', 'value': 'http://example.org/BOB'},
        'v': {'type': 'uri', 'value': 'http://xmlns.com/foaf/0.1/topic_interest'},
        'o': {'type': 'uri',
         'value': 'https://jpsearch.go.jp/entity/chname/葛飾北斎'}},
       {'g': {'type': 'uri', 'value': 'http://example.org/graph'},
        's': {'type': 'uri', 'value': 'http://example.org/BOB'},
        'v': {'type': 'uri', 'value': 'http://example.org/type'},
        'o': {'type': 'uri', 'value': 'http://xmlns.com/foaf/0.1/Person'}},
       {'g': {'type': 'uri', 'value': 'http://example.org/graph'},
        's': {'type': 'uri', 'value': 'http://example.org/BOB'},
        'v': {'type': 'uri', 'value': 'http://example.org/knows'},
        'o': {'type': 'uri', 'value': 'http://example.org/Alice'}}]}}

clear the graph

``` python
client.clear(graph_uri=graph_uri)
```

    Data successfully cleared.
